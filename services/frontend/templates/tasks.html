{% extends "base.html" %}

{% block title %}Mes t√¢ches - Todo List{% endblock %}

{% block content %}
<div class="tasks-container">
    <div class="header">
        <div>
            <h2>Bonjour <span id="user-name">{{ username }}</span> ! üëã</h2>
            <p class="date-display" id="current-date"></p>
        </div>
        <button onclick="logout()" class="btn-logout">D√©connexion</button>
    </div>
    
    <!-- Formulaire d'ajout de t√¢che -->
    <div class="task-form-container">
        <h3>‚ûï Nouvelle t√¢che</h3>
        <form id="task-form">
            <div class="form-group">
                <label for="task-title">Titre *</label>
                <input type="text" id="task-title" placeholder="Ex: Faire les courses" required maxlength="200">
            </div>
            
            <div class="form-group">
                <label for="task-description">Description (optionnelle)</label>
                <textarea id="task-description" placeholder="D√©tails de la t√¢che..." rows="3"></textarea>
            </div>
            
            <div class="form-group">
                <label for="task-date">Date d'√©ch√©ance</label>
                <input type="date" id="task-date">
                <small class="form-hint">La date ne peut pas √™tre ant√©rieure √† aujourd'hui</small>
            </div>
            
            <button type="submit" class="btn-primary">Ajouter la t√¢che</button>
        </form>
    </div>
    
    <!-- Filtres -->
    <div class="filters-container">
        <h3>üìä Mes t√¢ches</h3>
        <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">Toutes</button>
            <button class="filter-btn" data-filter="active">√Ä faire</button>
            <button class="filter-btn" data-filter="completed">Termin√©es</button>
        </div>
    </div>
    
    <!-- Liste des t√¢ches -->
    <div class="tasks-list-container">
        <div id="loading-spinner" class="text-center" style="display: none;">
            <div class="spinner"></div>
            <p>Chargement des t√¢ches...</p>
        </div>
        
        <div id="empty-state" class="empty-state" style="display: none;">
            <p>‚ú® Aucune t√¢che √† afficher</p>
            <small>Cr√©ez votre premi√®re t√¢che ci-dessus !</small>
        </div>
        
        <ul id="task-list" class="task-list"></ul>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/tasks.js"></script>
{% endblock %}